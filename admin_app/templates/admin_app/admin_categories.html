{% extends "admin_app/layout-admin.html" %}
{% load static %}

{% block title %}Kaidoki Desse ç®¡ç† | å…±é€šã‚«ãƒ†ã‚´ãƒªç®¡ç†{% endblock %}

{% block admin_content %}
<div class="container-fluid py-4" style="max-width:720px;">
  <div class="d-flex align-items-center mb-4">
    <h2 class="fw-bold mb-0 me-2 text-danger">âš™ å…±é€šã‚«ãƒ†ã‚´ãƒªç®¡ç†</h2>
    <span class="text-muted small">ï¼ˆå…¨ãƒ¦ãƒ¼ã‚¶ãƒ¼å…±æœ‰ã‚«ãƒ†ã‚´ãƒªã®ç®¡ç†ï¼‰</span>
  </div>

  <!-- âœ… å…±é€šã‚«ãƒ†ã‚´ãƒªä¸€è¦§ -->
  <div class="card mb-4 border-0">
    <div class="card-header bg-light fw-semibold">
      å…±é€šã‚«ãƒ†ã‚´ãƒªä¸€è¦§
    </div>
    <ul class="list-group list-group-flush">
      {% for cat in common_categories %}
      <li class="list-group-item d-flex justify-content-between align-items-center py-3">
        <span class="fw-semibold">{{ cat.category_name }}</span>
        <div class="d-flex align-items-center">
          <form method="POST" class="d-flex align-items-center me-2">
            {% csrf_token %}
            <input type="hidden" name="edit_id" value="{{ cat.id }}">
            <input type="text" name="new_name" placeholder="æ–°ã—ã„åå‰" class="form-control form-control-sm me-2" style="width: 200px;">
            <button type="submit" class="btn btn-sm text-white" style="background-color:#3CA9A9;">âœ å¤‰æ›´</button>
          </form>
          <form method="POST" class="d-inline">
            {% csrf_token %}
            <input type="hidden" name="delete_id" value="{{ cat.id }}">
            <button type="submit" class="btn btn-sm text-white" style="background-color:#0d2626;">ğŸ—‘ å‰Šé™¤</button>
          </form>
        </div>
      </li>
      {% empty %}
      <li class="list-group-item text-muted">å…±é€šã‚«ãƒ†ã‚´ãƒªãŒç™»éŒ²ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚</li>
      {% endfor %}
    </ul>
  </div>

  <!-- âœ… æ–°è¦è¿½åŠ  -->
  <div class="card border-0">
    <div class="card-header bg-light fw-semibold">
      æ–°ã—ã„å…±é€šã‚«ãƒ†ã‚´ãƒªã‚’è¿½åŠ 
    </div>
    <div class="card-body">
      <form method="POST" class="d-flex align-items-center flex-wrap">
        {% csrf_token %}
        <input type="text" name="add_name" placeholder="ã‚«ãƒ†ã‚´ãƒªåã‚’å…¥åŠ›" class="form-control me-3 mb-2" style="max-width: 250px;" required>
        <button type="submit" class="btn text-white mb-2" style="background-color:#3CA9A9;">ï¼‹ è¿½åŠ </button>
      </form>
    </div>
  </div>

  <div class="mt-4">
    <a href="{% url 'admin_app:admin_dashboard' %}" class="btn btn-outline-secondary">â† ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã¸æˆ»ã‚‹</a>
  </div>
</div>
{% endblock %}
